{"ast":null,"code":"var _jsxFileName = \"/home/mindbowser/Firebase-Demo/firebase-demo/src/components/User.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Img from \"../image1.jpg\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst User = ({\n  user1,\n  user,\n  selectUser,\n  chat\n}) => {\n  _s();\n\n  const user2 = user === null || user === void 0 ? void 0 : user.uid;\n  const [data, setData] = useState(\"\");\n  useEffect(() => {\n    const id = user1 > user2 ? `${user1 + user2}` : `${user2 + user1}`;\n    let unsub = onSnapshot(doc(db, \"lastMsg\", id), doc => {\n      setData(doc.data());\n    });\n    return () => unsub();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `user_wrapper ${chat.name === user.name && \"selected_user\"}`,\n      onClick: () => selectUser(user),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user_info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user_detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar || Img,\n            alt: \"avatar\",\n            className: \"avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 13\n          }, this), (data === null || data === void 0 ? void 0 : data.from) !== user1 && (data === null || data === void 0 ? void 0 : data.unread) && /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"unread\",\n            children: \"New\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `user_status ${user.isOnline ? \"online\" : \"offline\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this), data && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"truncate\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: data.from === user1 ? \"Me:\" : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this), data.text]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => selectUser(user),\n      className: `sm_container ${chat.name === user.name && \"selected_user\"}`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.avatar || Img,\n        alt: \"avatar\",\n        className: \"avatar sm_screen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(User, \"SdShWBeHkV26fLNog65mn1O2hHw=\");\n\n_c = User;\nexport default User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["/home/mindbowser/Firebase-Demo/firebase-demo/src/components/User.js"],"names":["React","useEffect","useState","Img","onSnapshot","doc","db","User","user1","user","selectUser","chat","user2","uid","data","setData","id","unsub","name","avatar","from","unread","isOnline","text"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Img from \"../image1.jpg\";\nimport { onSnapshot, doc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nconst User = ({ user1, user, selectUser, chat }) => {\n  const user2 = user?.uid;\n  const [data, setData] = useState(\"\");\n\n  useEffect(() => {\n    const id = user1 > user2 ? `${user1 + user2}` : `${user2 + user1}`;\n    let unsub = onSnapshot(doc(db, \"lastMsg\", id), (doc) => {\n      setData(doc.data());\n    });\n    return () => unsub();\n  }, []);\n\n  return (\n    <>\n      <div\n        className={`user_wrapper ${chat.name === user.name && \"selected_user\"}`}\n        onClick={() => selectUser(user)}\n      >\n        <div className=\"user_info\">\n          <div className=\"user_detail\">\n            <img src={user.avatar || Img} alt=\"avatar\" className=\"avatar\" />\n            <h4>{user.name}</h4>\n            {data?.from !== user1 && data?.unread && (\n              <small className=\"unread\">New</small>\n            )}\n          </div>\n          <div\n            className={`user_status ${user.isOnline ? \"online\" : \"offline\"}`}\n          ></div>\n        </div>\n        {data && (\n          <p className=\"truncate\">\n            <strong>{data.from === user1 ? \"Me:\" : null}</strong>\n            {data.text}\n          </p>\n        )}\n      </div>\n      <div\n        onClick={() => selectUser(user)}\n        className={`sm_container ${chat.name === user.name && \"selected_user\"}`}\n      >\n        <img\n          src={user.avatar || Img}\n          alt=\"avatar\"\n          className=\"avatar sm_screen\"\n        />\n      </div>\n    </>\n  );\n};\n\nexport default User;\n"]},"metadata":{},"sourceType":"module"}